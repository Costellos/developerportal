<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
        .block {
            width: 95vw;
            border: 2px solid grey;
            padding: 5px;
            margin: 15px 0;
        }
    </style>
</head>

<body>
    <!-- a div for each block of code to be displayed -->
    <div class="block" id="sec1"></div>
    <div class="block" id="sec2"></div>
    <div class="block" id="sec3"></div>
    <div class="block" id="sec4"></div>
    <script>
        $(document).ready(function() {

            var blocks = $(".block").length;
            var seg = [];
            // there is a seg array variable for each block of code
            // the numbers are the line numbers in the code to be displayed, first to last
            seg[1] = [64, 68];
            seg[2] = [72, 77];
            seg[3] = [82, 89];
            seg[4] = [102, 111];

            $.get("/exposure-times.cpp", function(data) { // Load the code file to be displayed
                var test = data.split('\n'); // split up the code by lines

                for (i = 1; i <= blocks; i++) {
                    var count = seg[i][0];
                    var tonum = seg[i][1];
                    var mytext = "<pre><code>";

                    while (count < tonum) {

                        mytext = mytext + test[count] + '\n';

                        count++;

                    }

                    mytext += "</code></pre>";
                    $("#sec" + i).html(mytext); // display the code section in it's respective div

                }

            });
        });
    </script>
</body>

</html>
